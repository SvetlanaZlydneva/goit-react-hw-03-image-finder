{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Container/Container.module.css","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/ErrorMessage/ErrorMessage.module.css","components/Searchbar/SearchForm.module.css","components/Container/Container.js","components/Searchbar/SearchForm.js","components/Searchbar/Searchbar.js","services/images-api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/ErrorMessage/ErrorMessage.js","App.js","index.js"],"names":["module","exports","Container","children","className","styles","SearchForm","state","search","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","trim","toLowerCase","props","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","PropTypes","func","isRequired","Searchbar","axios","defaults","baseURL","apiFetch","searchQuery","currentPage","get","then","response","data","hits","ImageGalleryItem","webformatURL","description","largeImageURL","onClick","href","data-attr","src","alt","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","handleKeyDown","code","closeModal","handleBackdropClick","target","window","addEventListener","removeEventListener","url","createPortal","role","tabIndex","Overlay","ImageGallery","showModal","largeImage","toggleModal","dataset","attr","images","map","id","tags","key","Button","Loader","color","height","width","timeout","ErrorMessage","message","defaultProps","App","isLoading","error","empty","onChangeQuery","query","scrollImages","scrollTo","top","documentElement","scrollHeight","behavior","fetchImages","options","length","prevState","catch","finally","prevProps","shouldRenderLoadMoreButton","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.88ab378d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2HuRF\",\"Modal\":\"Modal_Modal__ZBY91\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1fq05\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__1dvi6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__1MFcb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Jbgt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1aQFg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__TK3rb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2xWtf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ErrorMessage\":\"ErrorMessage_ErrorMessage__1211O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__1PyrA\",\"SearchFormButton\":\"SearchForm_SearchFormButton__QiRfC\",\"SearchFormButtonLabel\":\"SearchForm_SearchFormButtonLabel__2W45Y\",\"SearchFormInput\":\"SearchForm_SearchFormInput__1HTur\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Container.module.css';\n\nconst Container = ({ children }) => (\n  <div className={styles.Container}>{children}</div>\n);\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n  static props = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    search: '',\n  };\n\n  handleChange = event => {\n    this.setState({ search: event.currentTarget.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const search = this.state.search.trim().toLowerCase();\n    this.props.onSubmit(search);\n    this.setState({ search: '' });\n  };\n\n  render() {\n    const { search } = this.state;\n    return (\n      <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <span className={styles.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={styles.SearchFormInput}\n          type=\"text\"\n          value={search}\n          onChange={this.handleChange}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SearchForm from './SearchForm';\nimport styles from './Searchbar.module.css';\n\nconst Searchbar = ({ onSubmit }) => (\n  <header className={styles.Searchbar}>\n    <SearchForm onSubmit={onSubmit} />\n  </header>\n);\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import axios from 'axios';\n\nconst key = '16188386-9c486355758a5fe84f7a70228';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst apiFetch = ({ searchQuery = '', currentPage = 1 }) => {\n  return axios\n    .get(\n      `?key=${key}&q=${searchQuery}&page=${currentPage}&per_page=${'12'}&image_type=photo&orientation=horizontal`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default apiFetch;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  description,\n  largeImageURL,\n  onClick,\n}) => (\n  <a href={largeImageURL} data-attr={description} onClick={onClick}>\n    <img\n      src={webformatURL}\n      alt={description}\n      className={styles.ImageGalleryItemImage}\n    />\n  </a>\n);\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    url: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    closeModal: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.closeModal();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    const { url, description } = this.props;\n    return createPortal(\n      <div\n        role=\"button\"\n        tabIndex=\"0\"\n        className={styles.Overlay}\n        onClick={this.handleBackdropClick}\n      >\n        <div className={styles.Modal}>\n          <img src={url} alt={description} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Modal from '../Modal';\nimport styles from './ImageGallery.module.css';\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    images: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n      }).isRequired,\n    ).isRequired,\n  };\n\n  state = {\n    showModal: false,\n    description: '',\n    largeImage: '',\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  showModal = event => {\n    event.preventDefault();\n    const { href, dataset } = event.currentTarget;\n    this.setState({\n      description: dataset.attr,\n      largeImage: href,\n    });\n    this.toggleModal();\n  };\n\n  closeModal = () => {\n    this.setState({\n      description: '',\n      largeImage: '',\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images } = this.props;\n    const { showModal, largeImage, description } = this.state;\n    return (\n      <>\n        {showModal && (\n          <Modal\n            url={largeImage}\n            description={description}\n            closeModal={this.closeModal}\n          />\n        )}\n        <ul className={styles.ImageGallery}>\n          {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n            <li className={styles.ImageGalleryItem} key={id}>\n              <ImageGalleryItem\n                webformatURL={webformatURL}\n                largeImageURL={largeImageURL}\n                description={tags}\n                onClick={this.showModal}\n              />\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" onClick={onClick} className={styles.Button}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport Spinner from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst Loader = () => (\n  <div className={styles.Loader}>\n    <Spinner\n      type=\"Hearts\"\n      color=\"#3f51b5\"\n      height={80}\n      width={80}\n      timeout={3000} // 3 secs\n    />\n  </div>\n);\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ErrorMessage.module.css';\n\nconst ErrorMessage = ({ message }) => (\n  <div className={styles.ErrorMessage}>\n    Whoops, something went wrong: {message}\n  </div>\n);\n\nErrorMessage.defaultProps = {\n  message: 'images not found',\n};\n\nErrorMessage.propTypes = {\n  message: PropTypes.string,\n};\n\nexport default ErrorMessage;\n","import React, { Component } from 'react';\nimport Container from './components/Container';\nimport Searchbar from './components/Searchbar';\nimport apiFetch from './services/images-api';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport ErrorMessage from './components/ErrorMessage';\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: '',\n    currentPage: 1,\n    isLoading: false,\n    error: null,\n    empty: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery } = this.state;\n    if (prevState.searchQuery !== searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n      empty: false,\n    });\n  };\n\n  scrollImages = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, currentPage } = this.state;\n    const options = { searchQuery, currentPage };\n    this.setState({ isLoading: true });\n\n    apiFetch(options)\n      .then(images => {\n        if (images.length === 0) this.setState({ empty: true });\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n        this.scrollImages();\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { images, isLoading, error, empty } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n    return (\n      <Container>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && <ErrorMessage message={error.message} />}\n        {empty && <ErrorMessage />}\n        {images.length > 0 && <ImageGallery images={images} />}\n        {isLoading && <Loader />}\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages} />}\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}